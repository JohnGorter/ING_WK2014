<!DOCTYPE html>

<html>
<head>
    
    
    <title>WK 2014 app</title>
    <link rel="stylesheet" href="./styles/default.css" type="text/css" />
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
</head>

<style>
    .hidden { display:none}
</style>

<script>
    
    //jQuery.support.cors = true;
    
    // Main
    $(function(){
       // $.ajax({ url:'http://ip.jsontest.com/', cache:false, success: function(data){ alert(JSON.stringify(data));}});
        
        $("#btnSave").click(function(){
            var li = $("<li>");
            var datespan = $("<span class='date'>").text($("#date").val() + " ");
            var titlespan = $("<span class='title'>").text($("#game").val() + " ");
            var descspan = $("<span class='desc'>").text($("#description").val()).addClass("hidden");
            var deletespan = $("<span class='delete'>").text(" [X] ").click(function(){
                $(this).parent().remove();
                });
            
            li.append(deletespan).append(datespan).append(titlespan).append(descspan).click(clickLI).appendTo($("#gamelist"));
        });
    });
    
    function clickLI(){
        var detailspanel = "<h2>" + $(".title",this).text() + "</h2><p>" + $(".desc", this).text() + "</p>";
         $("#details").html(detailspanel);
    }
    
    
</script>

<body>
    <div id="header">
    <h1>WK 2014 App <small>Build your own agenda</small></h1>
    </div>
    
    <div id="form">
        <h2>Insert a game you want to follow</h2>
        <form>
            <dl>
                <dt>Game</dt>
                <dd><input type="text" name="game" id="game" value="vul in"/></dd>
                <dt>Date</dt>
                <dd><input type="text" name="date" id="date" /></dd>
                <dt>Description</dt>
                <dd><textarea rows="5" cols="36" name="description" id="description"></textarea></dd>
            </dl>
            <input type="button" value="Add to list" id="btnSave">
        </form>
    </div>
    
    <div id="list">
        <h2>You are monitoring the following games</h2>
        <ul id="gamelist">
        </ul>
    </div>
    
    <div id="details">
    </div>

</body>
</html>
